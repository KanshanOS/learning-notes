# 锁优化策略

- 标志位修改等可见性场景优先使用 `volatile`，可用于：优雅停机
- 数值递增场景优先使用 `Atomic`，基于 CAS 无锁化，可用于：心跳计数器
- 数据允许多副本场景优先使用 `ThreadLocal` 
- 读多写少需要加锁的场景优先使用 `ReentrantReadWriteLock`
- 尽可能的减少锁占用的时间，加锁后尽量只是内存操作，可采用分段加锁机制
- 尽可能的减少线程对数据加锁的粒度

