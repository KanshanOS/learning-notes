# 数据结构规约检查

### 检查没有注释的表

```sql
SELECT TABLE_NAME, TABLE_COMMENT
FROM information_schema.TABLES
WHERE TABLE_SCHEMA = 'TABLE_SCHEMA'
  AND TABLE_COMMENT = '';
```

### 检查没有写注释的列

```sql
SELECT TABLE_NAME, COLUMN_NAME, COLUMN_TYPE, COLUMN_COMMENT
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = 'TABLE_SCHEMA'
  AND COLUMN_COMMENT = ''
ORDER BY TABLE_NAME, ORDINAL_POSITION;
```

### 检查没有设置主键自增的列

```sql
SELECT TABLE_NAME, COLUMN_NAME, EXTRA
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = 'TABLE_SCHEMA'
  AND EXTRA = ''
  AND COLUMN_NAME = 'id'
ORDER BY TABLE_NAME;
```

### 检查没有设置主键的表

```sql
SELECT TABLE_NAME, COLUMN_NAME
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = 'TABLE_SCHEMA'
  AND COLUMN_NAME = 'id'
  AND COLUMN_KEY != 'PRI'
ORDER BY TABLE_NAME;
```

